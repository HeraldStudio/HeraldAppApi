# 轮播图设计

## 主要功能：

### 轮播图的增加、删除、修改、查询

## 请求码设计：

| askcode值 | 描述                   |
| -------- | -------------------- |
| 101      | 上传轮播图（上传到oss并在数据库注册） |
| 102      | 删除轮播图（在数据库删除数据）      |
| 103      | 修改轮播图数据库资料           |
| 104      | 查看轮播图列表（返回数据库列表）     |
| 105      | 模糊搜索                 |

## 101发布轮播图

| 字段        | 示例        | 功能       |
| --------- | --------- | -------- |
| askcode   | 101       | 请求码      |
| begintime | 2017-4-20 | 图片有效起始时间 |
| endtime   | 2017-4-21 | 图片有效结束时间 |
| file      | 图片.jpeg   | 待上传的图片文件 |

## 返回值实例

成功

```json
{
  "content": "上传成功", 
  "code": 200
}
```

## 102删除轮播图：

| 字段      | 示例   | 功能      |
| ------- | ---- | ------- |
| askcode | 102  | 请求码     |
| id      | 1    | 指定轮播图id |

## 返回值实例

成功

```json
{
  "content": "删除成功", 
  "code": 200
}
```

无此数据

```json
{
  "content": "记录不存在", 
  "code": 401
}
```



## 103修改轮播图数据库资料

| 字段            | 示例                         | 功能          |
| ------------- | -------------------------- | ----------- |
| askcode       | 103                        | 请求码         |
| id(必填)        | 1                          | 指定轮播图id     |
| title(选填)     | herald                     | 修改轮播图title  |
| url(选填)       | https://myseu.cn/activity1 | 修改轮播图指向的url |
| imageurl(选填)  | https://myseu.cn/image.jpg | 轮播图地址       |
| begintime(选填) | 2017-05-01                 | 轮播图开始时间     |
| endtime(选填)   | 2017-05-02                 | 轮播图结束时间     |

## 返回值实例

成功

```json
{
  "content": "修改成功", 
  "code": 200
}
```

## 104枚举图片

| 字段                          | 示例   | 功能         |
| --------------------------- | ---- | ---------- |
| askcode                     | 104  | 请求码        |
| items_per_page(可选\|默认为所有数据) | 2    | 按照每页两条数据返回 |
| page(可选)                    | 3    | 第3页的数据     |

## 返回值实例

成功

```json
{
  "content": "[
  {
    'Key': u'7daf5a39b89f4868a06aa930c6764db0', 
    'title': u'\\u4f60\\u597d', 
    'url': None, 
    'image_url':u'http://static.***.cn/7daf5a39b89f4868a06aa930c6764db0', 
    'end_time': datetime.datetime(2017, 4, 30, 0, 0), 
    'hit_count': None, 
    'begin_time': datetime.datetime(2017, 4, 28, 0, 0), 
    'Id': 8L
  },
  "max_page": 6, 
  "code": 200
}
```

页码超出范围：

```json
{
  "content": "页码超出范围", 
  "code": 401
}
```

## 105模糊搜索title

| 字段      | 示例   | 功能        |
| ------- | ---- | --------- |
| askcode | 105  | 请求码       |
| pattern | 你好   | 匹配pattern |

## 返回值实例

成功

```json
{
  "content": "[{'Key': u'8ed1e78775234662bbce51a32088eee1', 'title': u'\\u4f60\\u597d', 'url': u'233333', 'image_url': u'http://static.myseu.cn/8ed1e78775234662bbce51a32088eee1', 'end_time': datetime.datetime(2017, 4, 30, 0, 0), 'hit_count': None, 'begin_time': datetime.datetime(2017, 4, 28, 0, 0), 'Id': 1L},  {'Key': u'5f9a774e7eb44051ac248a00b118b8f9', 'title': u'\\u4f60\\u597d', 'url': None, 'image_url': u'http://static.myseu.cn/5f9a774e7eb44051ac248a00b118b8f9', 'end_time': datetime.datetime(2017, 4, 30, 0, 0), 'hit_count': None, 'begin_time': datetime.datetime(2017, 4, 28, 0, 0), 'Id': 18L}, {'Key': u'bcb835b443544de396b0a145178d528d', 'title': u'\\u4f60\\u597d', 'url': None, 'image_url': u'http://static.myseu.cn/bcb835b443544de396b0a145178d528d', 'end_time': datetime.datetime(2017, 4, 30, 0, 0), 'hit_count': None, 'begin_time': datetime.datetime(2017, 4, 28, 0, 0), 'Id': 19L}]", 
  "code": 200
}
```

